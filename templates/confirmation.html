{% extends "base.html" %}

{% block content %}
<script src="https://js.stripe.com/v3/"></script>

<div class="container my-5">
    <div class="card shadow-lg border-0">
        <div class="card-header text-center bg-success text-white">
            <h2 class="mb-0">Booking Confirmation</h2>
        </div>
        <div class="card-body p-5">
            <div class="text-center mb-4">
                <h4 class="fw-bold text-success">Thank you for booking, {{ user.username }}!</h4>
                <p>Your booking has been successfully created. Below are your booking details:</p>
            </div>

            <ul class="list-group mb-4">
                <li class="list-group-item"><strong>Tour:</strong> {{ booking.tour_departure.tour.name }}</li>
                <li class="list-group-item"><strong>Departure Date:</strong> {{ booking.tour_departure.departure_date }}</li>
                <li class="list-group-item"><strong>Duration:</strong> {{ booking.tour_departure.duration_days }} days</li>
                <li class="list-group-item"><strong>Number of People:</strong> {{ booking.number_of_people }}</li>
                <li class="list-group-item"><strong>Price per Person:</strong> ₹{{ booking.tour.price }}</li>
                <li class="list-group-item"><strong>Total Price:</strong> ₹{{ booking.total_price }}</li>
                
                <li class="list-group-item"><strong>Contact Details:</strong>
                    <ul class="ms-4">
                        <li>Email: {{ booking.email }}</li>
                        <li>Phone: {{ booking.phone_number }}</li>
                    </ul>
                </li>

                {% if booking.special_requests %}
                <li class="list-group-item"><strong>Special Requests:</strong> {{ booking.special_requests }}</li>
                {% endif %}
            </ul>

            <div class="text-center mt-4">
                <a href="{% url 'checkout' booking.id %}" class="btn btn-lg btn-success shadow-sm px-5 py-2 me-2">
                    <i class="fas fa-credit-card"></i> Proceed to Payment
                </a>

            </div>
        </div>
    </div>
</div>

{% endblock %}
